---
interface Props {
  reason: string;
  title?: string;
  showGlow?: boolean;
}

const { reason, title, showGlow = false } = Astro.props;
---

<div class="group relative">
  {
    showGlow && (
      <div
        class="absolute -inset-0.5 animate-pulse rounded-2xl bg-accent opacity-10 blur-lg transition-all duration-1000 group-hover:opacity-20"
        aria-hidden="true"
      ></div>
    )
  }
  <div
    class="relative rounded-2xl border border-border/70 bg-background/80 p-8 shadow-sm backdrop-blur-sm dark:bg-slate-900/60"
    data-no-of-day
  >
    {
      title && (
        <h3 class="mb-5 text-sm font-bold tracking-[0.2em] text-accent/70 uppercase">
          {title}
        </h3>
      )
    }
    <p class="font-serif text-7xl text-accent" aria-hidden="true">“</p>
    <p class="text-xl text-foreground/90 italic" data-no-reason>
      {reason}
    </p>
    <p
      class="mt-4 text-center font-serif text-7xl text-accent"
      aria-hidden="true"
    >
      ”
    </p>
  </div>
</div>

<style>
  @keyframes pulse-glow {
    0%,
    100% {
      opacity: 0.1;
      filter: blur(12px);
    }
    50% {
      opacity: 0.2;
      filter: blur(16px);
    }
  }
  .animate-pulse {
    animation: pulse-glow 4s ease-in-out infinite;
  }
</style>
