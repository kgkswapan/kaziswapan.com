---
import type { CollectionEntry } from "astro:content";
import LinkButton from "@/components/LinkButton.astro";
import getProjectSlug from "@/utils/getProjectSlug";

interface Props {
  project: CollectionEntry<"projects">;
}

const { project } = Astro.props;
const { title, summary, tech } = project.data;
const hasTech = typeof tech === "string" && tech.trim().length > 0;
const detailHref = `/projects/${getProjectSlug(project)}/`;
---

<article
  class="h-full w-full rounded-2xl border border-border/70 bg-background/70 p-5 transition hover:-translate-y-0.5 hover:border-accent dark:bg-slate-900/40"
>
  <h3 class="text-lg font-semibold text-foreground">{title}</h3>
  <p class="mt-2 text-sm text-foreground/80">{summary}</p>
  {hasTech && <p class="mt-4 text-sm font-medium text-foreground/90">{tech}</p>}
  <LinkButton
    class="mt-4 rounded-full border border-accent/70 px-4 py-2 text-sm font-semibold text-accent transition hover:-translate-y-0.5 hover:border-accent"
    href={detailHref}
  >
    View Project
  </LinkButton>
</article>
